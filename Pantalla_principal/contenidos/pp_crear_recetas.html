
<html>
  <head>
    <!-- SweetAlert2 (para el modal) -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- Cropper.js CSS y JS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.js"></script>
    </head>

  <body>

    <!-- pp_crear_recetas.html -->
    <section class="section_crear_recetas">

          <!-- Contenedor de la barra de busqueda -->
          <div class="busqueda-conteiner">
              <div class="busqueda-recetas">
                  <!-- Contenedor de barra busqueda y busqueda por categoria -->
                  <div class="input-busq-recetas">
                  <input type="text" id="busquedaRecetas" placeholder="Buscar recetas..." class="input_busqueda">
                  <i class="ph ph-magnifying-glass"></i>
                  </div>
              
                  <div class="input-busq-categoria">
                  <select name="categoria" id="categoria-recetas">
                      <option value="" disabled="" selected="">Seleccionar categoría</option>
                      <option value="transicionista">Transicionista</option>
                      <option value="vegetariano">Vegetariano</option>
                      <option value="vegano">Vegano</option>
                  </select>
                  </div>
              </div>
              
              <!-- codigo user en css: /Pagina_Principal/css/styles_pp_inicio.css -->
                <div class="perfil_user">
                    <h2 class="lbl_nombre_user nombre-usuario-header">User</h2>
                    <div class="circulo_perfil">
                        <img src="../Images/img_sinperfilusuario.png" alt="" class="img_perfil">
                    </div>
                </div>
              
          </div>
        
          <div class="contenedor-crear-recetas">
            <div class="cont-cc">
              <h2 class="lbl_crear_receta">Crear receta</h2>
              <div class="linea-cr"></div>
            </div>
        
            <form id="form-receta" class="form-receta" action="guardar_recetas.php" method="POST" enctype="multipart/form-data">
              <div class="zona-principal">
                <div class="zona-izquierda">
                  <div class="mb-3">
                    <label for="name-receta" class="form-label">Nombre de receta:</label>
                    <input type="text" id="name-receta" name="name-receta" class="form-control input-border" placeholder="Ingrese el nombre de la receta">
                  </div>
            
                  <div class="mb-3">
                    <label for="description-receta" class="form-label">Descripción:</label>
                    <textarea id="description-receta" name="description-receta" class="form-control input-border textarea-fija" rows="4" placeholder="Describa la receta"></textarea>
                  </div>
            
                  <div class="tiempo-dificultad">
                    <div class="tiempo">
                      <label for="time-receta" class="form-label">Tiempo de preparación:</label>
                      <input type="text" id="time-receta" name="time-receta" class="form-control input-border" placeholder="Ej: 30 minutos">
                    </div>
            
                    <div class="separador-vertical"></div>
            
                    <div class="dificultad">
                      <label class="form-label">Dificultad:</label>
                      <div class="dificultad-con-icono">
                       <i class="ph ph-square-fill" id="icon-dificultad" style="font-size: 24px; color: #1A1C1C;"></i>
                        <select id="select-dificultad" name="dificultad" class="form-control input-border" onchange="cambiarColorIcono()">
                          <option value="" disabled selected>Seleccionar dificultad</option>
                          <option value="Baja">Baja</option>
                          <option value="Media">Media</option>
                          <option value="Alta">Alta</option>
                        </select>
                      </div>
                    </div>
                  </div>
                </div>
            
                <div class="zona-derecha">
                <div class="img-container" onclick="document.getElementById('input-imagen-receta').click()">
                    <i class="ph ph-image icono-placeholder"></i>
                    <img id="preview-imagen-receta" class="img-preview" style="display: none;">
                  </div>
                  <input 
                    type="file" 
                    id="input-imagen-receta" 
                    name="imagen" 
                    accept="image/*" 
                    style="display: none;" 
                    onchange="mostrarPreviewReceta(this, document.getElementById('preview-imagen-receta'))"
                  >
            
                  <div class="estrellas">
                    <i class="ph ph-star" style="font-size: 24px;"></i>
                    <i class="ph ph-star" style="font-size: 24px;"></i>
                    <i class="ph ph-star" style="font-size: 24px;"></i>
                    <i class="ph ph-star" style="font-size: 24px;"></i>
                    <i class="ph ph-star" style="font-size: 24px;"></i>
                  </div>
                </div>
              </div>
            
              <!-- Ingredientes -->
              <div class="cont-ingred">
                <h2 class="lbl_ingredientes">Ingredientes</h2>
                <div class="linea-ingred"></div>
              </div>
              <div class="zona-ingredientes">
                <div id="lista-ingredientes" class="lista-dinamica">
                  <input type="text" class="form-control input-border" name="ingredientes[]" placeholder="Ingrediente 1">
                </div>
                <button type="button" onclick="agregarIngrediente()" class="btn-agregar btn-agregar-ingrediente">Añadir más</button>
              </div>
            
              <!-- Pasos -->
              <div class="cont-pasos">
                <h2 class="lbl_pasos">Pasos</h2>
                <div class="linea-pasos"></div>
              </div>
              <div class="zona-pasos">
                <div id="lista-pasos" class="lista-dinamica">
                  <div class="paso-item">
                    <div class="paso-imagen-small" onclick="this.querySelector('input').click()">
                      <i class="ph ph-image icono-placeholder"></i>
                      <img class="img-preview" style="display:none;">
                      <input type="file" accept="image/*" name="imagen-paso[]" class="input-paso-img" style="display:none;" onchange="mostrarPreviewPaso(this, this.previousElementSibling)" multiple>
                    </div>
                    <input type="text" name="pasos[]" class="form-control input-border paso-input" placeholder="Paso 1">
                  </div>
                </div>
                <button type="button" onclick="agregarPaso()" class="btn-agregar btn-agregar-paso">Añadir más</button>
              </div>
            
              <!-- Botón de Guardar -->
              <div class="boton-crear-receta">
                <button type="submit" class="btn-crear-receta">Guardar receta</button>

              </div>
            </form>
            

          </div>

          <!-- Tabla de recetas -->
          <div class="contenedor-tabla-recetas">
              <div class="card shadow-sm">
                  <div class="card-header bg-white border-bottom-0">
                      <h2 class="mb-0">Recetas almacenadas</h2>
                  </div>
                  <div class="card-body p-0">
                      <div class="table-responsive">
                          <table class="table table-hover mb-0">
                              <thead class="table-light">
                                  <tr>
                                      <th>Nombre</th>
                                      <th>Descripción</th>
                                      <th>Ingredientes</th>
                                      <th>Pasos</th>
                                      <th>Tiempo</th>
                                      <th>Dificultad</th>
                                      <th>Fecha</th>
                                      <th class="text-center">Acciones</th>
                                  </tr>
                              </thead>
                              <tbody id="tablaRecetas">
                                  <tr>
                                      <td colspan="8" class="text-center py-4">Cargando recetas...</td>
                                  </tr>
                              </tbody>
                          </table>
                      </div>
                  </div>
              </div>
          </div>
        
    </section>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="/Pantalla_principal/js/recetas.js"></script>
    
  </body>

</html>
     
    
 




