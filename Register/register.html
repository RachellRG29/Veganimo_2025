<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Regístrate</title>

  <link rel="website icon" href="../Images/Icono_veganimo.svg">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Iconos -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300..700&family=Gloock&display=swap" rel="stylesheet" />

  <!-- CSS personalizado -->
  <link rel="stylesheet" href="/Register/register.css" />

  <!-- SweetAlert -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <!-- PHP personalizado -->
  <script src="/Register/registro.php" defer></script>


</head>
<body class="custom-bg min-vh-100 px-3">

  <!-- Contenedor general -->
  <div class="container-fluid d-flex justify-content-center align-items-center px-0">

    <!-- Card del formulario -->
    <div class="card shadow-lg rounded-4 custom-form-card p-4 mx-2">
      <div class="text-center mb-4">
        <div class="logo-container">
          <div class="img-fluid logo" alt="isotipo">
            <?xml version="1.0" encoding="UTF-8"?>
              <svg id="Capa_2" data-name="Capa 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 168.68 199.52">
              <g id="Veganimo">
                  <g>
                  <path class="cls-1" d="M86.29,80.26c-.7-.61-1.28-1.32-1.77-2.05,3.86,9,7.35,17.37,8.89,21.71l8.39-17.96c-5.41,2.01-11.23,2.03-15.51-1.7Z"/>
                  <path class="cls-1" d="M136.3,0H32.38C14.5,0,0,14.49,0,32.38V167.13c0,17.89,14.5,32.39,32.38,32.39h103.92c17.88,0,32.38-14.5,32.38-32.39V32.38c0-17.89-14.5-32.38-32.38-32.38Zm6.77,33.9c-6.17-.63-10.49,1.22-14.22,4.34-3.91,3.28-5.37,7.22-6.64,10.77-2.46,6.91-3.56,14.68-6.72,21.31-1.54,3.22-4.54,6.39-8.17,8.8l-20.9,44.76h15.89c-1.85-10.13,1.45-20.96,9.71-28.35,7.33-6.55,16.95-8.94,25.92-7.28,1.27,1.45-6.95,10.87-10.25,13.82,3.3-2.95,13.58-10.07,14.89-8.63,.63,9.1-2.8,18.38-10.14,24.94-2.66,2.39-5.63,4.21-8.76,5.5h14.16c3.04,0,5.45,2.6,5.17,5.62-1.57,16.65-10.06,31.28-22.55,41.01-4.3,3.34-9.6,5.13-15.04,5.13-.31,0-.55,.25-.55,.55v2.33c0,1.71-1.39,3.1-3.1,3.1h-34.82c-1.71,0-3.1-1.39-3.1-3.1v-2.33c0-.31-.25-.55-.55-.55h-.25c-5.44,0-10.75-1.79-15.05-5.13-12.49-9.73-20.98-24.36-22.54-41.01-.29-3.02,2.13-5.62,5.16-5.62h23.36c-2.31-.91-4.47-2.3-6.33-4.18-4.77-4.83-6.3-11.64-4.62-17.74,6.13-1.59,12.9,.03,17.67,4.86,4.6,4.66,6.18,11.14,4.8,17.06h14.23L42.97,44.17c-4.22-9.35-8.99-14.02-14.29-14.02h-.45v-1.29h49.92v1.29h-.61c-4.52,0-7.51,1.17-8.98,3.53-1.48,2.36-1.23,5.64,.74,9.84,0,0,6.93,15.5,13.49,30.68,1.45,.76,5.37,.96,6.1,.91,1.77-.12,3.93-.58,5.38-1.45,3.79-2.3,6.64-7.11,7.97-10.94,1.54-4.33,2.59-9.32,4.44-13.83,2.15-5.32,5.27-10.6,10.29-14.42,5.17-4.09,13.11-6.26,20.38-4.16,2.31,.68,4.43,1.79,5.92,3.27l-.2,.32Z"/>
                  </g>
              </g>
              </svg>
          </div>
        </div>
      </div>
      
      
      <h2 class="form-title text-center mb-2">Crea tu cuenta</h2>
      <div class="separator mx-auto mb-4"></div>

      <!--  FORMULARIO DE REGISTRO-USUARIOS -->
      <form action="registro.php" method="POST" id="formRegistro">
        <!-- Nombre completo -->
        <div class="mb-3">
          <label for="fullname" class="form-label">Nombre completo:</label>
          <input type="text" name="fullname" id="fullname" class="form-control input-border"
                placeholder="Ingrese su nombre completo"
                title="Por favor ingrese correctamente sus datos, solo se permiten letras" required />
          <div id="fullname-message" class="form-text mt-1">Solo se permiten letras y un espacio entre palabras.</div>
        </div>



        <!-- Fecha de nacimiento -->
        <div class="d-flex justify-content-center gap-3">
          <div class="mb-3 flex-fill">
            <label for="birthdate" class="form-label" id="fechana">Fecha de nacimiento:</label>
            <input type="date" name="birthdate" id="birthdate" class="form-control input-border"
                  min="1925-01-01" max="2007-12-31" required />
            <div id="birthdate-message" class="form-text mt-1">Debe estar entre el año 1925 y 2007.</div>
          </div>



          <!-- Género -->
          <div class="mb-3 flex-fill">
            <label for="gender" class="form-label">Género:</label>
            <select name="gender" id="gender" class="form-control input-border custom-select" required>
              <option value="" disabled selected>Seleccionar</option>
              <option value="Femenino">Femenino</option>
              <option value="Masculino">Masculino</option>
            </select>
          </div>
        </div>


        
        <!-- Correo -->
        <div class="mb-3">
          <label for="email" class="form-label">Correo:</label>
          <input type="email" name="email" id="email" class="form-control input-border" placeholder="Ingrese su correo" required />
          <div id="email-message" class="form-text mt-1">Ingrese un correo válido (ejemplo@gmail.com)</div>
        </div>



        <!-- Contraseña -->
        <div class="mb-3">
          <label for="password" class="form-label">Contraseña:</label>
          <div class="position-relative">
            <input type="password" id="password" name="password"
                  class="form-control input-border"
                  placeholder="Ingrese su contraseña" required />
            <span class="password-toggle-inside" onclick="toggleVisibility('password', this)">
              <i class="fas fa-eye"></i>
            </span>
          </div>
          <div id="password-message" class="form-text mt-1">
            <ul class="mb-0">
              <li id="req-length">Al menos 6 caracteres <span id="check-length" style="display:none; color:green;">✔️</span></li>
              <li id="req-uppercase">Debe tener al menos una mayúscula <span id="check-uppercase" style="display:none; color:green;">✔️</span></li>
              <li id="req-number">Debe tener al menos un número <span id="check-number" style="display:none; color:green;">✔️</span></li>
              <li id="req-symbol">Debe tener al menos un signo (!@#$%^.,&*) <span id="check-symbol" style="display:none; color:green;">✔️</span></li>
              <li id="req-space">No debe tener espacios <span id="check-space" style="display:none; color:green;">✔️</span></li>
            </ul>
          </div>
        </div>

        <!-- Confirmar contraseña -->
        <div class="mb-3">
          <label for="confirm-password" class="form-label">Confirmar contraseña:</label>
          <div class="position-relative">
            <input type="password" id="confirm-password" name="confirm-password"
                  class="form-control input-border"
                  placeholder="Confirme su contraseña" required />
            <span class="password-toggle-inside" onclick="toggleVisibility('confirm-password', this)">
              <i class="fas fa-eye"></i>
            </span>
          </div>
          <div id="match-message" class="form-text mt-1"></div>
        </div>


          <div class="text-center">
            <button type="submit" class="registerBtn">Registrar</button>
          </div>
          
      </form>

      <div class="text-center mt-3">
        <a href="/Login/login.html" class="text-muted small text-decoration-none">¿Tienes cuenta? Inicia sesión</a>
      </div>
    </div>

    <!-- Imagen derecha -->
    <div class="login-image-container ms-3 d-none d-lg-block">
      <img class="login-image" 
          src="https://images.pexels.com/photos/31199411/pexels-photo-31199411/free-photo-of-ensalada-de-aguacate-fresco-y-rucula-en-una-mesa-rustica.jpeg?auto=compress&cs=tinysrgb&w=600&lazy=load" 
          alt="Imagen de comida saludable">
    </div>


  </div>

 <!--
  <?php if (isAdmin()): ?>
     Sección de la tabla de usuarios segun administrador 
    <div data-admin-only>
       Sección de la tabla de usuarios 
      <div class="row justify-content-center mt-5">
        <div class="col-xxl-10 col-12 px-4 pb-5">
          <div class="card shadow-lg">
            <div class="card-header bg-dark text-white text-center">
                <h5 class="mb-0">Usuarios Registrados</h5>
              </div>
          </div>
          <div class="card-body">
            <div class="row mb-3">
              <div class="col-md-6 position-relative mx-auto">
                <i class="fas fa-search position-absolute" style="top: 50%; left: 15px; transform: translateY(-50%); color: #888;"></i>
                <input type="text" id="busquedaUsuarios" class="form-control ps-4" placeholder="Buscar por nombre, email o género...">
              </div>
            </div>
            <div class="table-responsive">
              <table class="table table-bordered table-striped table-hover">
                <thead class="table-dark text-center">
                  <tr>
                    <th>Nombre</th>
                    <th>Email</th>
                    <th>Fecha Nacimiento</th>
                    <th>Género</th>
                    <th>Fecha Registro</th>
                    <th>Acciones</th>
                  </tr>
                </thead>
                <tbody id="tablaUsuarios">
                  <tr>
                    <td colspan="7" class="text-center">Cargando usuarios...</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  <?php endif; ?>
  -->

  <!-- Bootstrap JS y dependencias -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>


  
<!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Script para mostrar/ocultar contraseñas -->
  <script>
    function toggleVisibility(inputId, iconElement) {
      const input = document.getElementById(inputId);
      const icon = iconElement.querySelector('i');
      const isPassword = input.type === 'password';

      input.type = isPassword ? 'text' : 'password';
      icon.classList.toggle('fa-eye-slash', isPassword);
      icon.classList.toggle('fa-eye', !isPassword);
    }
    
  </script>

  <script src="/Register/register_validacion.js"></script>

  <!-- Solo cargar estos scripts si es admin -->
  <?php if (isAdmin()): ?>
    <script src="/Register/usuarios.js"></script>
  <?php endif; ?>

  <!-- <script src="/Register/register.js"></script> -->
  

</body>
</html>