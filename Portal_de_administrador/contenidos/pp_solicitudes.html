<!-- PANEL SOLICITUDES DE RECETAS -->
<div class="cont_solicitudes_adm">
  <div class="textos">
    <h2>Portal del administrador</h2>
    <h4>Solicitudes de recetas</h4>
  </div>

    <div class="isot_veg">
          <svg id="Capa_2" data-name="Capa 2" class="logo-isotipo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 168.68 199.52">
            <g id="Veganimo">
              <g>
                <path class="cls-1" d="M86.29,80.26c-.7-.61-1.28-1.32-1.77-2.05,3.86,9,7.35,17.37,8.89,21.71l8.39-17.96c-5.41,2.01-11.23,2.03-15.51-1.7Z"/>
                <path class="cls-1" d="M136.3,0H32.38C14.5,0,0,14.49,0,32.38V167.13c0,17.89,14.5,32.39,32.38,32.39h103.92c17.88,0,32.38-14.5,32.38-32.39V32.38c0-17.89-14.5-32.38-32.38-32.38Zm6.77,33.9c-6.17-.63-10.49,1.22-14.22,4.34-3.91,3.28-5.37,7.22-6.64,10.77-2.46,6.91-3.56,14.68-6.72,21.31-1.54,3.22-4.54,6.39-8.17,8.8l-20.9,44.76h15.89c-1.85-10.13,1.45-20.96,9.71-28.35,7.33-6.55,16.95-8.94,25.92-7.28,1.27,1.45-6.95,10.87-10.25,13.82,3.3-2.95,13.58-10.07,14.89-8.63,.63,9.1-2.8,18.38-10.14,24.94-2.66,2.39-5.63,4.21-8.76,5.5h14.16c3.04,0,5.45,2.6,5.17,5.62-1.57,16.65-10.06,31.28-22.55,41.01-4.3,3.34-9.6,5.13-15.04,5.13-.31,0-.55,.25-.55,.55v2.33c0,1.71-1.39,3.1-3.1,3.1h-34.82c-1.71,0-3.1-1.39-3.1-3.1v-2.33c0-.31-.25-.55-.55-.55h-.25c-5.44,0-10.75-1.79-15.05-5.13-12.49-9.73-20.98-24.36-22.54-41.01-.29-3.02,2.13-5.62,5.16-5.62h23.36c-2.31-.91-4.47-2.3-6.33-4.18-4.77-4.83-6.3-11.64-4.62-17.74,6.13-1.59,12.9,.03,17.67,4.86,4.6,4.66,6.18,11.14,4.8,17.06h14.23L42.97,44.17c-4.22-9.35-8.99-14.02-14.29-14.02h-.45v-1.29h49.92v1.29h-.61c-4.52,0-7.51,1.17-8.98,3.53-1.48,2.36-1.23,5.64,.74,9.84,0,0,6.93,15.5,13.49,30.68,1.45,.76,5.37,.96,6.1,.91,1.77-.12,3.93-.58,5.38-1.45,3.79-2.3,6.64-7.11,7.97-10.94,1.54-4.33,2.59-9.32,4.44-13.83,2.15-5.32,5.27-10.6,10.29-14.42,5.17-4.09,13.11-6.26,20.38-4.16,2.31,.68,4.43,1.79,5.92,3.27l-.2,.32Z"/>
              </g>
            </g>
          </svg>
        </div>

    </div>

<!-- CRUD SOLICITUDES -->
<div id="panel-solicitudes">
  <div class="row justify-content-center mt-5" style="margin-left: 4px;">
    <div class="col-xxl-11 col-12 pb-2">
      <div class="card shadow-lg">

        <!-- Header con buscador -->
        <div class="card-header d-flex align-items-center" style="background-color: #007848; color: white;">
          <div class="search-bar d-flex align-items-center" style="padding: 5px 40px;">
            <i class="ph-fill ph-magnifying-glass" style="font-size: 18px; margin-right: 8px;"></i>
            <input type="text" id="busquedaSolicitudes" class="form-control border-0"
                   placeholder="Buscar por nombre, descripción..."
                   style="box-shadow: none; outline: none;">
          </div>
        </div>

        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-bordered table-hover mb-0 text-white">
              <thead>
                <tr class="text-center">
                  <th style="background-color:#154734;">Imagen</th>
                  <th style="background-color:#0E9863;">Nombre</th>
                  <th style="background-color:#0E9863;">Descripción</th>
                  <th style="background-color:#0E9863;">Tiempo de Preparación</th>
                  <th style="background-color:#0E9863;">Dificultad</th>
                  <th style="background-color:#0E9863;">Categoría</th>
                  <th style="background-color:#0E9863;">Tipo receta</th>
                  <th style="background-color:#0E9863;">Ingredientes</th>
                  <th style="background-color:#0E9863;">Calificación</th>
                  <th style="background-color:#0E9863;">Fecha Creación</th>
                  <th style="background-color:#0E9863;">Acciones</th>
                </tr>
              </thead>
              <tbody id="tablaSolicitudes">
                <tr>
                  <td colspan="11" class="text-center text-white">Cargando solicitudes...</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>

<!-- MODAL VER SOLICITUD -->
<div class="modal fade" id="modalVerSolicitud" tabindex="-1" aria-labelledby="modalVerSolicitudLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content text-dark">
      <div class="modal-header bg-success text-white">
        <h5 class="modal-title" id="modalVerSolicitudLabel">Detalles de la solicitud</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body">
        <div id="contenidoSolicitud">
          <!-- Aquí se cargan los datos con JS -->
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .cont_solicitudes_adm {
      display: flex;
      justify-content: space-between; /* texto a la izq, logo a la der */
      align-items: flex-start;        /* alinear arriba */
      margin: 0 70px;                 /* espacio lateral */
  }

  .textos {
      display: flex;
      flex-direction: column;  /* h2 arriba, h4 abajo */
      margin-top: 30px;        /* mover conjunto hacia abajo */
  }

  .isot_veg {
      width: 50px;
      height: auto;
      margin-top: 30px;        /* alinear con h2 */
      fill: #E99A3C;
  }

  h2 {
      margin: 0; /* quitar márgenes propios */
  }

  h4 {
      margin: 5px 0 0 0; /* pequeño espacio debajo del h2 */
  }
</style>

<script>
  window.addEventListener('pageshow', function(event) {
    if (event.persisted || (window.performance && window.performance.navigation.type === 2)) {
      // Si se accede desde el caché (por botón atrás), forzar recarga
      window.location.reload();
    }
  });
</script>
